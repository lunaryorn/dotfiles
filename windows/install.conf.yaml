# MacOS specific dotfiles.

# Note: Link targets are relative to the repo root, not to this directory
- defaults:
    link:
      force: true
      create: true
- link:
    # Powershell (legacy)
    ~/Documents/WindowsPowerShell/profile.ps1: powershell/profile.ps1
    ~/Documents/WindowsPowerShell/Microsoft.Powershell_profile.ps1: powershell/Microsoft.Powershell_profile.ps1
    ~/Documents/WindowsPowerShell/types.ps1xml: powershell/types.ps1xml
    # Powershell Core (6+)
    ~/Documents/PowerShell/profile.ps1: powershell/profile.ps1
    ~/Documents/PowerShell/Microsoft.Powershell_profile.ps1: powershell/Microsoft.Powershell_profile.ps1
    ~/Documents/PowerShell/types.ps1xml: powershell/types.ps1xml
    # Platform-specific config
    ~/.config/git/config.platform: windows/git/config.platform
- shell:
    - - "powershell -Command powershell/install-modules.ps1"
      - "Install Windows Powershell modules"
    - - "pwsh -Command powershell/install-modules.ps1"
      - "Install Powershell Core modules"
